@model NF.Framework.DTO.TS_BUTTONDTO
@using NF.Web.Core
<!DOCTYPE html>

<html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
@Html.Partial("~/Views/Shared/_Assets.cshtml")

<title>@Model.Title</title>
<body>

    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin-top:20px;">
        <tr>
            <td align="center">
                @using (Html.BeginForm())
                {
                    @Html.HiddenFor(x => x.C_ID)
                    @Html.HiddenFor(x => x.C_EMP_ID)
                    @Html.HiddenFor(x => x.C_EMP_NAME)
                    @Html.HiddenFor(x => x.D_MOD_DT)
                    <input type="hidden" id="ResultType" name="ResultType" value="@Model.ResultType" />
                    <table class="table table-bordered">
                        <tr>
                            <td style="width:80px;">
                                菜单
                            </td>
                            <td>
                                @Html.TextBoxFor(x => x.C_MENU_NAME, new { @readonly = "readonly",style = " width:120px" })
                                @Html.HiddenFor(x => x.C_MENU_ID)
                                <a href="javascript:;" id="" onClick="queryMenu(this);"><span class="glyphicon glyphicon-search"></span></a>
                            </td>
                        </tr>
                        <tr>
                            <td style="width:80px;">
                                名称
                            </td>
                            <td>
                                @Html.TextBoxFor(x => x.C_NAME, new { style = " width:120px" })&nbsp;@Html.ValidationMessageFor(x => x.C_NAME)
                            </td>
                        </tr>
                        <tr>
                            <td>
                                描述
                            </td>
                            <td>
                                @Html.TextBoxFor(x => x.C_DESC, new { style = " width:120px" })&nbsp;@Html.ValidationMessageFor(x => x.C_DESC)
                            </td>

                        </tr>
                        <tr>
                            <td>
                                编码
                            </td>
                            <td>
                                @Html.TextBoxFor(x => x.C_CODE, new { style = " width:120px" })&nbsp;@Html.ValidationMessageFor(x => x.C_CODE)
                            </td>

                        </tr>
                        <tr>
                            <td>
                                索引
                            </td>
                            <td>
                                @Html.TextBoxFor(x => x.N_INDEX, new { style = " width:120px" })&nbsp;@Html.ValidationMessageFor(x => x.N_INDEX)
                            </td>
                        </tr>
                        <tr>
                            <td>
                                状态
                            </td>
                            <td>
                                @Html.DropDownDic("N_STATUS", "CommonStatus", new { style = " width:60px" })
                            </td>
                        </tr>
                        <tr>
                            <td>
                                &nbsp;
                            </td>
                            <td>
                                <div class="bs-example" data-example-id="btn-tags">
                                    <button id="btnSave" class="btn btn-primary btn-xs btn-w60" type="submit">保存</button>&nbsp;&nbsp;
     
                                    <span style=" color:red; ">@Html.ValidationMessage("error")</span>
                                </div>
                            </td>

                        </tr>
                    </table>
                }
            </td>
        </tr>
    </table>
    <script type="text/javascript">
        $(function () {

            $("#btnSave").click(function () {
                $("#ResultType").val(0);
            });

            if ($("#ResultType").val() == "1") {
                alert("新增成功");
                window.parent.seatch();
                close(); 
            }
            if ($("#ResultType").val() == "2") {
                alert("修改成功");
                window.parent.seatch();
                close(); 
            }
        });

        function queryMenu(e) {
            var url = "/Base/QueryMenu";
            //url += "&htmlApproveId=" + $(e).prev().attr("id");
            //url += "&htmlApproveName=" + $(e).prev().prev().attr("id");
            window.open(url, 'newwindow', 'width=' + (window.screen.availWidth - 10) + ',height=' + (window.screen.availHeight - 30) + ',top=0,left=0,resizable=yes,status=yes,menubar=no,scrollbars=yes');
        }
    </script>
</body>
</html>
